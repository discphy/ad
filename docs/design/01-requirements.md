# 01. 요구사항 정의

## 서비스 설명

매일모으기 서비스는 유저가 광고에 참여하고 포인트를 적립받는 서비스입니다.  
구현할 서버는 매일모으기 서비스에서 광고를 관리하는 서버입니다.  
광고 등록, 광고 조회, 광고 참여, 광고 참여 이력 조회 API를 제공하는 서버를 개발합니다.  
광고별로 참여 가능 횟수가 제한되며 전부 소진될 시 해당 광고로 포인트를 적립 받을 수 없습니다.

> 설계 내용과 설계의 이유, 핵심 문제해결 전략 및 분석한 내용을 README.md에 작성합니다.

## 요구사항

+ 아래 API 목록을 구현 합니다.
  + 광고 등록 API
  + 광고 조회 API
  + 광고 참여 API
  + 광고 참여 이력 조회 API
+ 어플리케이션이 다수의 서버에 다수의 인스턴스로 동작하더라도 문제가 없어야 합니다.  
+ 각 기능 및 제약사항에 대한 단위테스트를 반드시 작성합니다.

## 평가 항목 

+ 프로젝트 구성 방법 및 관련된 시스템 아키텍쳐 설계 방법이 적절한가?
+ 요구사항을 잘 이해하고 구현하였는가?
+ 작성한 어플리케이션 코드의 가독성 좋고 의도가 명확한가?
+ 작성한 테스트 코드는 적절한 범위의 테스트를 수행하고 있는가? (예. 유닛/통합 테스트 등)
+ 어플리케이션은 다량의 트래픽에도 무리가 없도록 효율적으로 작성되었는가?

## 기능 요구사항

### 광고 등록

#### 기능적 요구사항

##### ❌ Fail Case

+ [ ] 광고명이 이미 존재하는 경우, 오류를 반환한다. (400 Bad Request) 
+ [ ] 광고 등록시 적립 액수가 0이상 1,000,000원이하가 아닌 경우, 오류를 반환한다. (400 Bad Request)
+ [ ] 광고 등록시 참여 가능 횟수가 1이상 100이하가 아닌 경우, 오류를 반환한다. (400 Bad Request)
+ [ ] 광고 노출 기간이 유효하지 않은 경우, 오류를 반환한다. (400 Bad Request)
+ [ ] 광고 참가 자격이 유효하지 않은 경우, 오류를 반환한다. (400 Bad Request)

##### ✅ Happy Path

+ [ ] 광고를 등록 후 저장한 광고를 반환한다.

```text
[요청]
+ 광고명
+ 광고 참여시 적립 액수
+ 광고 참여 가능 횟수
+ 광고 문구
+ 광고 이미지 url
+ 광고 노출 기간
+ 광고 참가 자격(선택사항 -제한사항은 계속 추가될수있음)
    ■ 특정광고 ID를 참가한 이력이 있는 유저
    ■ N번이상 참가한 유저
    ■ 처음 참가하는 유저
```

### 광고 조회

#### 기능적 요구사항

##### ✅ Happy Path

+ [ ] 광고 참여 가능 횟수가 남아있는 광고를 조회한다.
+ [ ] 광고 노출 기간이 유효한 광고를 조회한다.
+ [ ] 참가 가능한 광고만 조회한다.
+ [ ] 최대 10개의 광고를 조회한다.
+ [ ] 적립 액수가 높은 순서로 광고를 조회한다.

```text
[응답]
+ 광고 ID
+ 광고명
+ 광고 문구
+ 광고 이미지 url
+ 광고 참여시 적립 액수
```

### 광고 참여

#### 기능적 요구사항

##### ❌ Fail Case

+ [ ] 광고 참여 횟수가 없으면, 참여 불가 에러를 응답 한다. (409 Conflict)
+ [ ] 광고 참여시 유저가 광고 참가 자격을 충족하지 못하면, 참가 자격 불충족 에러를 응답 한다. (409 Conflict)
+ [ ] 광고가 존재하지 않으면, 미등록 광고 에러를 응답 한다. (404 Not Found)

##### ✅ Happy Path

+ [ ] 광고 참여에 성공하면, API를 통해 포인트를 적립한다. (mock)
+ [ ] 광고 참여에 성공하면, 참여 이력을 저장한다.

#### 비기능적 요구사항

+ 하나의 광고에 여러 유저가 동시에 참여할 수 있어야 한다.

```text
[요청]
+ 유저 ID
+ 광고 ID
    + 참가자격 검증(선택사항)
```

### 광고 참여 이력 조회

#### 기능적 요구사항

##### ✅ Happy Path

+ [ ] 광고 참여 시각이 오래된 순으로 참여 이력을 조회한다.
+ [ ] 한번에 최대 50개의 이력을 조회할 수 있다.
+ [ ] 페이지네이션을 지원한다.

```text
[요청]
+ 유저 ID
+ 조회 기간

[응답]
+ 광고 참여 시각
+ 유저 ID
+ 광고 ID
+ 광고명
+ 적립 액수
```




